# ๐ ูุฎุทุท ูุนุจุฉ ุงูุทุฑููุจ ุงููุงูู

## ๐ฏ ูุธุฑุฉ ุนุงูุฉ
ูุนุจุฉ ุทุฑููุจ ุฃูููุงูู ูุชุนุฏุฏุฉ ุงููุงุนุจูู ูุชูุงููุฉ ูุน ูุธุงู Firebase ุงูุญุงูู

---

## ๐ ูููู ุงููููุงุช

```
๐ฆ ุงููุธุงู
โโโ ๐ tarneeb.html              # ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ
โโโ ๐ tarneeb-lobby.html        # ุตุงูุฉ ุงูุงูุชุธุงุฑ
โโโ ๐ tarneeb-game.html         # ุดุงุดุฉ ุงููุนุจ
โโโ ๐ tarneeb-history.html      # ุณุฌู ุงูุฃูุนุงุจ
โ
โโโ ๐ JavaScript Files
โ   โโโ tarneeb-core.js          # ุงูููุทู ุงูุฃุณุงุณู
โ   โโโ tarneeb-ai.js            # ุฐูุงุก ุงูุจูุชุงุช
โ   โโโ tarneeb-online.js        # ุฅุฏุงุฑุฉ ุงูุฃูููุงูู
โ   โโโ tarneeb-ui.js            # ุฅุฏุงุฑุฉ ุงููุงุฌูุฉ
โ   โโโ tarneeb-stats.js         # ุงูุฅุญุตุงุฆูุงุช
โ
โโโ ๐จ CSS
    โโโ tarneeb-styles.css       # ุงูุชูุณููุงุช
```

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช (Firebase)

### users/{userId}/tarneebStats/
- gamesPlayed: ุนุฏุฏ ุงูุฃูุนุงุจ
- gamesWon: ุนุฏุฏ ุงูุงูุชุตุงุฑุงุช
- totalPoints: ูุฌููุน ุงูููุงุท
- winRate: ูุณุจุฉ ุงูููุฒ
- ranking: ุงูุชุฑุชูุจ

### tarneebGames/{gameId}/
- gameInfo: ูุนูููุงุช ุงููุนุจุฉ
- players: ุงููุงุนุจูู ุงูุฃุฑุจุนุฉ
- gameState: ุญุงูุฉ ุงููุนุจุฉ ุงูุญุงููุฉ
- hands: ุฃูุฑุงู ูู ูุงุนุจ
- bidding: ูุนูููุงุช ุงููุฒุงูุฏุฉ
- currentTrick: ุงูุฏูุฑุฉ ุงูุญุงููุฉ
- scores: ุงูููุงุท
- history: ุณุฌู ุงูุฏูุฑุงุช

### tarneebInvites/{inviteId}/
- from: ุงููุฑุณู
- to: ุงููุณุชูุจู
- gameId: ูุนุฑู ุงููุนุจุฉ
- status: ุงูุญุงูุฉ
- timestamp: ุงูููุช

---

## ๐ฎ ุฃูุถุงุน ุงููุนุจ

### 1๏ธโฃ ูุนุจ ูุฑุฏู (Solo)
ุงููุงุนุจ ุงูุจุดุฑู + 3 ุจูุชุงุช

### 2๏ธโฃ ูุนุจ ุซูุงุฆู (Duo)
2 ูุงุนุจูู ุจุดุฑููู + 2 ุจูุชุงุช

### 3๏ธโฃ ูุนุจ ุฃูููุงูู (Online)
4 ูุงุนุจูู ุจุดุฑููู

---

## ๐ ุฏูุฑุฉ ุญูุงุฉ ุงููุนุจุฉ

```
1. ุฅูุดุงุก ูุนุจุฉ
   โ
2. ุงุฎุชูุงุฑ ุงููุถุน (ูุฑุฏู/ุซูุงุฆู/ุฃูููุงูู)
   โ
3. ุตุงูุฉ ุงูุงูุชุธุงุฑ
   โ
4. ุจุฏุก ุงููุนุจุฉ
   โ
5. ุชูุฒูุน ุงููุฑู (13 ูุฑูุฉ ููู ูุงุนุจ)
   โ
6. ุงููุฒุงูุฏุฉ (ูู ูุงุนุจ ูุฒุงูุฏ ุฃู ููุฑุฑ)
   โ
7. ุงููุนุจ (13 ุฏูุฑุฉ)
   โ
8. ุญุณุงุจ ุงูููุงุท
   โ
9. ุงูุชุญูู ูู ุงููุงุฆุฒ (ุฃูู ูุฑูู ูุตู 41)
   โ
10. ุญูุธ ุงูุฅุญุตุงุฆูุงุช
   โ
11. ุนุฑุถ ุงููุชุงุฆุฌ
```

---

## ๐ฏ ุงูููููุงุช ุงูุฑุฆูุณูุฉ

### 1. ุฅุฏุงุฑุฉ ุงููุนุจุฉ (TarneebGame)
```javascript
class TarneebGame {
    // ุฏูุฑุฉ ุงูุญูุงุฉ
    init()
    start()
    pause()
    resume()
    end()
    
    // ุฅุฏุงุฑุฉ ุงููุงุนุจูู
    addPlayer(player)
    removePlayer(playerId)
    
    // ุฅุฏุงุฑุฉ ุงูุฌููุงุช
    startNewRound()
    dealCards()
    startBidding()
    startPlaying()
    endRound()
    
    // ุงููุฒุงููุฉ
    syncState()
    listenToChanges()
}
```

### 2. ููุทู ุงููุนุจ (GameLogic)
```javascript
class GameLogic {
    // ุงูุชุญูู
    validateBid(bid, currentBid)
    validatePlay(card, hand, leadSuit)
    
    // ุงูุชูููู
    evaluateTrick(cards, trumpSuit)
    calculateScore(tricks, bid)
    determineWinner(scores)
    
    // ุงูุฃูุฑุงู
    createDeck()
    shuffleDeck(deck)
    sortHand(hand)
    compareCards(card1, card2)
}
```

### 3. ุฐูุงุก ุงูุจูุช (TarneebAI)
```javascript
class TarneebAI {
    // ุงููุฒุงูุฏุฉ
    evaluateHand(hand)
    decideBid(hand, currentBid)
    chooseTrumpSuit(hand)
    
    // ุงููุนุจ
    analyzeGameState(gameState)
    chooseCard(hand, playedCards)
    
    // ุงูุงุณุชุฑุงุชูุฌูุฉ
    shouldWinTrick(position)
    predictOpponentCards(history)
}
```

### 4. ุฅุฏุงุฑุฉ ุงูุฃูููุงูู (OnlineManager)
```javascript
class OnlineManager {
    // ุฅูุดุงุก ูุงูุถูุงู
    createGame(mode, settings)
    joinGame(gameId)
    leaveGame(gameId)
    
    // ุงูุฏุนูุงุช
    inviteFriend(friendId, gameId)
    acceptInvite(inviteId)
    rejectInvite(inviteId)
    
    // ุงููุฒุงููุฉ
    syncGameState(gameId)
    listenToGameUpdates(gameId)
    broadcastAction(gameId, action)
    
    // ุงูุงุชุตุงู
    handleDisconnect(playerId)
    handleReconnect(playerId)
}
```

### 5. ุฅุฏุงุฑุฉ ุงููุงุฌูุฉ (UIManager)
```javascript
class UIManager {
    // ุงูุนุฑุถ
    displayHand(cards)
    displayPlayedCards(cards)
    displayScores(scores)
    displayBidding(bids)
    
    // ุงูุชูุงุนู
    enableCardSelection(cards)
    showBidModal(minBid)
    showTrumpSelector()
    
    // ุงูุฑุณุงุฆู
    showMessage(title, text)
    showNotification(text)
    highlightPlayer(playerId)
    
    // ุงูุฃููููุดู
    animateCardPlay(card)
    animateTrickWin(winner)
    animateScoreUpdate(team)
}
```

### 6. ุฅุฏุงุฑุฉ ุงูุฅุญุตุงุฆูุงุช (StatsManager)
```javascript
class StatsManager {
    // ุงูุชุณุฌูู
    recordGame(gameId, result)
    updatePlayerStats(userId, result)
    updateLeaderboard(userId, stats)
    
    // ุงูุงุณุชุนูุงู
    getPlayerStats(userId)
    getGameHistory(userId, limit)
    getLeaderboard(limit)
    
    // ุงูุชุญููู
    calculateWinRate(userId)
    calculateAverageScore(userId)
    getRanking(userId)
}
```

---

## ๐จ ูุงุฌูุงุช ุงููุณุชุฎุฏู

### ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
- ุฒุฑ ูุนุจ ูุฑุฏู
- ุฒุฑ ูุนุจ ุซูุงุฆู
- ุฒุฑ ูุนุจ ุฃูููุงูู
- ุฒุฑ ุงูุฅุญุตุงุฆูุงุช
- ุฒุฑ ุงูุณุฌู

### ุตุงูุฉ ุงูุงูุชุธุงุฑ
- ุนุฑุถ ุงููุงุนุจูู
- ุญุงูุฉ ุงูุฌุงูุฒูุฉ
- ุฒุฑ ุงูุจุฏุก
- ุฒุฑ ุงูุฅูุบุงุก

### ุดุงุดุฉ ุงููุนุจ
- ููุงูุน ุงููุงุนุจูู ุงูุฃุฑุจุนุฉ
- ููุทูุฉ ุงููุนุจ ุงููุฑูุฒูุฉ
- ุฃูุฑุงู ุงููุงุนุจ
- ูุนูููุงุช ุงููุนุจุฉ (ุงูุฌููุฉุ ุงููุฒุงูุฏุฉุ ุงูููุงุท)

---

## ๐ง ุงูุชูุงูู ูุน ุงููุธุงู ุงูุญุงูู

### 1. ูุธุงู ุงูุฃุตุฏูุงุก
```javascript
// ุฏุนูุฉ ุตุฏูู ููุนุจ
function inviteFriendToGame(friendId, gameId) {
    const invite = {
        from: me.id,
        to: friendId,
        gameId: gameId,
        type: 'tarneeb',
        status: 'pending',
        timestamp: Date.now()
    };
    
    firebase.database().ref('tarneebInvites').push(invite);
    
    sendNotification(friendId, {
        title: 'ุฏุนูุฉ ููุนุจ ุงูุทุฑููุจ',
        message: `${me.username} ูุฏุนูู ููุนุจ`,
        action: 'join_tarneeb',
        data: { gameId }
    });
}
```

### 2. ูุธุงู ุงูุฅุดุนุงุฑุงุช
- ุฅุดุนุงุฑ ุนูุฏ ุงูุฏุนูุฉ ููุนุจ
- ุฅุดุนุงุฑ ุนูุฏ ุจุฏุก ุงููุนุจุฉ
- ุฅุดุนุงุฑ ุนูุฏ ุฏูุฑู ูู ุงููุนุจ
- ุฅุดุนุงุฑ ุนูุฏ ุงูุชูุงุก ุงููุนุจุฉ
- ุฅุดุนุงุฑ ุนูุฏ ูุบุงุฏุฑุฉ ูุงุนุจ

### 3. ูุธุงู ุงูููุงุท ูุงูุชุฑุชูุจ
```javascript
function updatePlayerRanking(userId, gameResult) {
    getUser(userId).then(user => {
        const stats = user.tarneebStats || {};
        
        stats.gamesPlayed = (stats.gamesPlayed || 0) + 1;
        if (gameResult.won) {
            stats.gamesWon = (stats.gamesWon || 0) + 1;
        }
        stats.totalPoints = (stats.totalPoints || 0) + gameResult.points;
        stats.winRate = (stats.gamesWon / stats.gamesPlayed * 100).toFixed(1);
        
        updateUser(userId, { tarneebStats: stats });
        updateLeaderboard(userId, stats);
    });
}
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

### ุจูุงูุงุช ุงููุงุนุจ
```javascript
{
    gamesPlayed: 150,      // ุนุฏุฏ ุงูุฃูุนุงุจ
    gamesWon: 89,          // ุนุฏุฏ ุงูุงูุชุตุงุฑุงุช
    winRate: 59.3,         // ูุณุจุฉ ุงูููุฒ
    totalPoints: 4523,     // ูุฌููุน ุงูููุงุท
    highestBid: 13,        // ุฃุนูู ูุฒุงูุฏุฉ
    perfectGames: 12,      // ุฃูุนุงุจ ูุซุงููุฉ
    ranking: 42,           // ุงูุชุฑุชูุจ
    achievements: []       // ุงูุฅูุฌุงุฒุงุช
}
```

### ููุญุฉ ุงููุชุตุฏุฑูู
- ุชุฑุชูุจ ุญุณุจ ุนุฏุฏ ุงูุงูุชุตุงุฑุงุช
- ุชุฑุชูุจ ุญุณุจ ูุณุจุฉ ุงูููุฒ
- ุชุฑุชูุจ ุญุณุจ ูุฌููุน ุงูููุงุท

---

## โก ุงูุฃุฏุงุก ูุงูุชุญุณูู

### 1. ุงูุชุฎุฒูู ุงููุคูุช
- ุญูุธ ุญุงูุฉ ุงููุนุจุฉ ูู localStorage
- ุงุณุชุนุงุฏุฉ ุงููุนุจุฉ ุนูุฏ ุงูุงููุทุงุน

### 2. ุงูุชุญููู ุงูุฐูู
- ุชุญููู ุงูุตูุฑ ุจุดูู lazy
- ุชุญููู ุงูุฃุตูุงุช ุนูุฏ ุงูุญุงุฌุฉ

### 3. ุงููุฒุงููุฉ ุงููุนุงูุฉ
- ุงุณุชุฎุฏุงู Firebase listeners ุจุฐูุงุก
- ุชูููู ุนุฏุฏ ุงููุฑุงุกุงุช/ุงููุชุงุจุงุช
- ุงุณุชุฎุฏุงู transactions ููุนูููุงุช ุงูุญุฑุฌุฉ

---

## ๐ฒ ููุงุนุฏ ุงููุนุจุฉ

### ุงูุฃุณุงุณูุงุช
- 4 ูุงุนุจูู ูู ูุฑูููู (1+3 ุถุฏ 2+4)
- 52 ูุฑูุฉ (13 ูุฑูุฉ ููู ูุงุนุจ)
- ุงููุฏู: ุงููุตูู ุฅูู 41 ููุทุฉ

### ุงููุฒุงูุฏุฉ
- ูู ูุงุนุจ ูุฒุงูุฏ ุฃู ููุฑุฑ
- ุงููุฒุงูุฏุฉ ูู 7 ุฅูู 13
- ุงููุฒุงูุฏ ูุฎุชุงุฑ ููุน ุงูุทุฑููุจ

### ุงููุนุจ
- ูุฌุจ ุงุชุจุงุน ููุน ุงููุฑูุฉ ุงูุฃููู
- ุงูุทุฑููุจ ูููุฒ ุนูู ูู ุงูุฃููุงุน
- ุฃููู ูุฑูุฉ ูู ููุณ ุงูููุน ุชููุฒ

### ุงูููุงุท
- ุงููุฑูู ุงููุฒุงูุฏ ูุฌุจ ุฃู ูุญูู ูุฒุงูุฏุชู
- ุฅุฐุง ูุฌุญ: ูุฃุฎุฐ ุนุฏุฏ ุงูุฃููุงุช
- ุฅุฐุง ูุดู: ูุฎุณุฑ ูููุฉ ุงููุฒุงูุฏุฉ
- ุงููุฑูู ุงูุขุฎุฑ ูุฃุฎุฐ ุฃููุงุชู ุฏุงุฆูุงู

---

## ๐๏ธ ุฎุทุฉ ุงูุชูููุฐ

### ุงููุฑุญูุฉ 1: ุงูุฃุณุงุณูุงุช (ุฃุณุจูุน 1)
- [ ] ุฅูุดุงุก ูููู ุงููููุงุช
- [ ] ุจูุงุก ูุงุฌูุฉ ุงููุนุจุฉ ุงูุฃุณุงุณูุฉ
- [ ] ุชุทุจูู ููุทู ุชูุฒูุน ุงููุฑู
- [ ] ุชุทุจูู ููุทู ุงููุฒุงูุฏุฉ
- [ ] ุชุทุจูู ููุทู ุงููุนุจ

### ุงููุฑุญูุฉ 2: ุงููุนุจ ุงููุฑุฏู (ุฃุณุจูุน 2)
- [ ] ุจูุงุก ุฐูุงุก ุงูุจูุชุงุช
- [ ] ุชุทุจูู ุงุณุชุฑุงุชูุฌูุงุช ุงููุนุจ
- [ ] ุงุฎุชุจุงุฑ ุงููุนุจ ุงููุฑุฏู
- [ ] ุฅุตูุงุญ ุงูุฃุฎุทุงุก

### ุงููุฑุญูุฉ 3: ุงููุนุจ ุงูุฃูููุงูู (ุฃุณุจูุน 3)
- [ ] ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- [ ] ุชุทุจูู ูุธุงู ุงูุฏุนูุงุช
- [ ] ุชุทุจูู ุงููุฒุงููุฉ
- [ ] ูุนุงูุฌุฉ ุงูุงููุทุงุน
- [ ] ุงุฎุชุจุงุฑ ุงููุนุจ ุงูุฃูููุงูู

### ุงููุฑุญูุฉ 4: ุงูุฅุญุตุงุฆูุงุช (ุฃุณุจูุน 4)
- [ ] ุชุทุจูู ูุธุงู ุงูุฅุญุตุงุฆูุงุช
- [ ] ุจูุงุก ููุญุฉ ุงููุชุตุฏุฑูู
- [ ] ุชุทุจูู ุณุฌู ุงูุฃูุนุงุจ
- [ ] ุฅุถุงูุฉ ุงูุฅูุฌุงุฒุงุช

### ุงููุฑุญูุฉ 5: ุงูุชุญุณููุงุช (ุฃุณุจูุน 5)
- [ ] ุชุญุณูู ุงููุงุฌูุฉ
- [ ] ุฅุถุงูุฉ ุงูุฃููููุดู
- [ ] ุฅุถุงูุฉ ุงูุฃุตูุงุช
- [ ] ุชุญุณูู ุงูุฃุฏุงุก
- [ ] ุงุฎุชุจุงุฑ ุดุงูู

---

## ๐ฏ ุงูููุฒุงุช ุงููุทููุจุฉ

### โ ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ
- [x] ุชูุฒูุน ุงููุฑู
- [x] ูุธุงู ุงููุฒุงูุฏุฉ
- [x] ูุนุจ ุงูุฃูุฑุงู
- [x] ุญุณุงุจ ุงูููุงุท
- [x] ุชุญุฏูุฏ ุงููุงุฆุฒ

### โ ุงูููุฒุงุช ุงููุชูุฏูุฉ
- [ ] ุญูุธ ุญุงูุฉ ุงููุนุจุฉ
- [ ] ุฅุญุตุงุฆูุงุช ุงููุงุนุจูู
- [ ] ุชุงุฑูุฎ ุงูุฃูุนุงุจ
- [ ] ูุธุงู ุงูุชุฑุชูุจ
- [ ] ุตูุชูุงุช ููุคุซุฑุงุช

### โ ุฃูุถุงุน ุงููุนุจ
- [ ] ูุนุจ ูุฑุฏู (ุถุฏ 3 ุจูุชุงุช)
- [ ] ูุนุจ ุซูุงุฆู (ุฃูุช + ุตุฏูู ุถุฏ 2 ุจูุชุงุช)
- [ ] ูุนุจ ุฃูููุงูู (4 ูุงุนุจูู ุญูููููู)

---

## ๐ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

### ูุญูุตุงุช ุงูุฃูุงู
```javascript
// ูุญุต ุงููุฑูุฉ
function validateCard(card) {
    if (!card) return false;
    if (!card.suit || !card.value) return false;
    if (!SUITS.includes(card.suit)) return false;
    if (!VALUES.includes(card.value)) return false;
    return true;
}

// ูุญุต ุงููุนุจ
function canPlayCard(card, hand, leadSuit) {
    if (!validateCard(card)) return false;
    if (!hand.includes(card)) return false;
    
    if (!leadSuit) return true;
    
    const hasSuit = hand.some(c => c.suit === leadSuit);
    if (hasSuit && card.suit !== leadSuit) return false;
    
    return true;
}
```

### ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
```javascript
try {
    // ุงูููุฏ
} catch (error) {
    console.error('Error:', error);
    showErrorMessage(error.message);
    recoverFromError();
}
```

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุฃูุงู**: ุงูุชุญูู ูู ูู ุฅุฏุฎุงู ูุจู ุงููุนุงูุฌุฉ
2. **ุงูุฃุฏุงุก**: ุชูููู ุนูููุงุช Firebase ูุฏุฑ ุงูุฅููุงู
3. **ุงูุชุฌุฑุจุฉ**: ูุงุฌูุฉ ุณูุณุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู
4. **ุงูุงุฎุชุจุงุฑ**: ุงุฎุชุจุงุฑ ุดุงูู ููู ุงูุญุงูุงุช
5. **ุงูุชูุซูู**: ุชูุซูู ูุงุถุญ ููููุฏ

---

## ๐ฏ ุงูุฎูุงุตุฉ

ูุฐุง ุงููุฎุทุท ูููุฑ:
โ ุชูุงูู ูุงูู ูุน ุงููุธุงู ุงูุญุงูู
โ ุฏุนู 3 ุฃูุถุงุน ูุนุจ
โ ุฐูุงุก ุงุตุทูุงุนู ููุจูุชุงุช
โ ูุนุจ ุฃูููุงูู ูุชุฒุงูู
โ ุฅุญุตุงุฆูุงุช ูุชุฑุชูุจ
โ ูุธุงู ุฏุนูุงุช ููุดุงุฑูุฉ
โ ุญูุธ ูุงุณุชุนุงุฏุฉ ุงููุนุจุฉ
โ ูุงุฌูุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ

---

**ุชุงุฑูุฎ ุงูุฅูุดุงุก:** 2025
**ุงูุญุงูุฉ:** ุฌุงูุฒ ููุชูููุฐ
**ุงููุฏุฉ ุงููุชููุนุฉ:** 5 ุฃุณุงุจูุน
